<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PriceDynamics</title>
    <link rel="stylesheet" href="styles.css">
    <script type="text/javascript" async
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML ">
    </script>
    <style>
        body, p, li, div {
        color: black !important;
        line-height: 1.6;
        }
        ol.latex-enumerate, ol.latex-enumerate li {
            line-height: 1.6 !important;
            margin-top: 0.5em;
            margin-bottom: 0.5em;
        }
        /* Updated TOC styles */
        #toc-panel {
            font-size: 0.9em;
        }
        .toc-chapter, 
        .toc-section, 
        .toc-subsection {
            color: black !important;
        }
        .toc-chapter a,
        .toc-section a,
        .toc-subsection a {
            color: black !important;
            text-decoration: none;
        }
        .toc-chapter.current {
            background-color: rgba(26, 115, 232, 0.05);
        }
        #toc-button {
            position: fixed;
            top: 10px;
            left: 10px;
            background: #1a73e8;
            color: white;
            padding: 10px 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            z-index: 1000;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
        #toc-panel {
            position: fixed;
            top: 0;
            left: -350px;
            width: 300px;
            height: 100%;
            background: white;
            box-shadow: 2px 0 10px rgba(0,0,0,0.1);
            z-index: 999;
            padding: 20px;
            overflow-y: auto;
            transition: left 0.3s ease-out;
            will-change: transform;
        }
        #toc-panel.open {
            left: 0;
        }
        #close-toc {
            position: absolute;
            top: 10px;
            right: 10px;
            background: none;
            border: none;
            font-size: 20px;
            cursor: pointer;
        }
        #content {
            padding: 20px;
            padding-top: 60px;
            max-width: 100%;
            overflow-x: hidden;
            word-wrap: break-word;
        }
        .toc-chapter {
            margin-bottom: 10px;
            border-left: 3px solid #1a73e8;
            padding-left: 10px;
        }
        .toc-chapter.current {
            background-color: rgba(26, 115, 232, 0.05);
        }
        .chapter-link {
            font-weight: bold;
            color: #1a73e8;
            text-decoration: none;
            display: block;
            padding: 5px 0;
        }
        .toc-sections {
            margin-left: 15px;
            display: none;
        }
        .toc-sections.expanded {
            display: block;
        }
        .toc-section {
            padding: 3px 0;
            margin-left: 10px;
        }
        .toc-subsection {
            padding: 3px 0;
            margin-left: 25px;
            font-size: 0.95em;
        }
        .toc-subsubsection {
            padding: 3px 0;
            margin-left: 40px;
            font-size: 0.9em;
            color: #555;
        }
        html {
            scroll-behavior: smooth;
        }
        :target {
            scroll-margin-top: 80px;
            animation: highlight 1.5s ease;
        }
        @keyframes highlight {
            0% { background-color: rgba(26, 115, 232, 0.1); }
            100% { background-color: transparent; }
        }
        @media (max-width: 768px) {
            #toc-panel {
                width: 85%;
                left: -90%;
            }
            #toc-panel.open {
                left: 0;
                box-shadow: 4px 0 15px rgba(0,0,0,0.2);
            }
            #content {
                transition: transform 0.3s ease-out;
            }
            #toc-panel.open ~ #content {
                transform: translateX(85%);
            }
        }
        .note {
  background-color: color-mix(in srgb, var(--primary) 7%, white);
border: 5px solid var(--primary);
  padding: 5px;
  margin: 10px;
}
.problem {
  background-color: color-mix(in srgb, var(--primary) 18%, white);
border: 1px solid var(--primary);
  padding: 10px;
  margin: 10px;
}
.example {
  background-color: var(--environmentBackground);
border-top: 7px solid var(--primary);
border-bottom: 7px solid var(--primary);
border-left: none;
border-right: none;
  padding: 10px;
  margin: 10px;
}
.remark {
  background-color: var(--environmentBackground);
border-top: 7px solid var(--primary);
border-bottom: 7px solid var(--primary);
border-left: none;
border-right: none;
  padding: 20px;
  margin: 10px;
}
.definition {
  background-color: color-mix(in srgb, var(--primary) 10%, white);
border: 3px double var(--primary);
  padding: 10px;
  margin: 10px;
}
.lemma {
  background-color: color-mix(in srgb, var(--primary) 10%, white);
border: 3px solid var(--primary);
  padding: 10px;
  margin: 10px;
  box-shadow: 0px 0px 10px rgba(0,0,0,0.1);
}
.theorem {
  background-color: color-mix(in srgb, var(--primary) 10%, white);
border: 3px solid var(--primary);
  padding: 10px;
  margin: 10px;
  box-shadow: 0px 0px 10px rgba(0,0,0,0.1);
}
.proofs {
  background-color: var(--environmentBackground);
border: 5px solid var(--primary);
  padding: 10px;
  margin: 10px;
}
.project {
  background-color: var(--environmentBackground);
border: 3px solid var(--primary);
  padding: 10px;
  margin: 10px;
}
.hint {
  background-color: color-mix(in srgb, var(--primary) 10%, white);
border: 3px solid var(--primary);
  padding: 10px;
  margin: 10px;
}
.code {
  background-color: color-mix(in srgb, var(--primary) 13%, white);
border: 3px solid var(--primary);
  padding: 10px;
  margin: 10px;
}
.algorithm {
  background-color: color-mix(in srgb, var(--primary) 5%, white);
border: 3px solid var(--primary);
  padding: 10px;
  margin: 10px;
}
    </style>
</head>
<body>
    <button id="toc-button">☰ Table of Contents</button>
    <div id="toc-panel">
        <button id="close-toc">×</button>

      <!-- Small Main Page Button -->
<div style="text-align:right; margin-bottom: 10px;">
  <a href="index.html" 
     style="
       background: var(--toc-primary, #2738F5);
       color: white;
       padding: 4px 10px;
       border-radius: 16px;
       font-size: 0.75em;
       font-weight: 900;
       text-decoration: none;
       display: inline-block;
       box-shadow: 0 2px 6px rgba(0,0,0,0.12);
     ">
    Main Page
  </a>
</div>

        <div class="full-toc">

        <div class="toc-chapter ">
            <a href="Overview of Financial Systems.html" class="chapter-link">
                Chapter 1: Overview of Financial Systems
            </a>
            <div class="toc-sections ">

                <div class="toc-item ">
                    <a href="Overview of Financial Systems.html#FinancialSystem.ch">
                        Financial System: An Overview
                    </a>
                </div>

                <div class="toc-item toc-section">
                    <a href="Overview of Financial Systems.html#financialmarketframework.sec">
                        Financial Market Framework
                    </a>
                </div>

                <div class="toc-item toc-subsection">
                    <a href="Overview of Financial Systems.html#financial.instrument.ssec">
                        Financial Instruments
                    </a>
                </div>

                <div class="toc-item toc-subsubsection">
                    <a href="Overview of Financial Systems.html#securities">
                        Securities
                    </a>
                </div>

                <div class="toc-item toc-subsection">
                    <a href="Overview of Financial Systems.html#market-levels">
                        Market Levels
                    </a>
                </div>

                <div class="toc-item toc-subsubsection">
                    <a href="Overview of Financial Systems.html#market-segments">
                        Market Segments
                    </a>
                </div>

                <div class="toc-item toc-subsection">
                    <a href="Overview of Financial Systems.html#trading-mechanism">
                        Trading Mechanism
                    </a>
                </div>

                <div class="toc-item toc-section">
                    <a href="Overview of Financial Systems.html#marketparticipants.sec">
                        Market Participants
                    </a>
                </div>

                <div class="toc-item toc-subsection">
                    <a href="Overview of Financial Systems.html#market-makers">
                        Market Makers
                    </a>
                </div>

                <div class="toc-item toc-subsection">
                    <a href="Overview of Financial Systems.html#investors">
                        Investors
                    </a>
                </div>

                <div class="toc-item toc-subsection">
                    <a href="Overview of Financial Systems.html#speculators">
                        Speculators
                    </a>
                </div>

                <div class="toc-item toc-subsection">
                    <a href="Overview of Financial Systems.html#hedgers">
                        Hedgers
                    </a>
                </div>

                <div class="toc-item toc-subsection">
                    <a href="Overview of Financial Systems.html#arbitrageurs">
                        Arbitrageurs
                    </a>
                </div>

                <div class="toc-item toc-section">
                    <a href="Overview of Financial Systems.html#overviewderivatives.sec">
                        Overview of Derivatives
                    </a>
                </div>

                <div class="toc-item toc-subsection">
                    <a href="Overview of Financial Systems.html#essential-market-terms">
                        Essential Market Terms
                    </a>
                </div>

                <div class="toc-item toc-subsection">
                    <a href="Overview of Financial Systems.html#purpose-of-derivatives">
                        Purpose of Derivatives
                    </a>
                </div>

                <div class="toc-item toc-subsection">
                    <a href="Overview of Financial Systems.html#need-for-pricing-models-and-analysis">
                        Need for Pricing Models and Analysis
                    </a>
                </div>

                <div class="toc-item toc-subsection">
                    <a href="Overview of Financial Systems.html#noncontingentclaims.sec">
                        Non-Contingent Claims: Forwards, Futures, and Swaps
                    </a>
                </div>

                <div class="toc-item toc-subsubsection">
                    <a href="Overview of Financial Systems.html#forwards-and-futures">
                        Forwards and Futures
                    </a>
                </div>

                <div class="toc-item toc-subsubsection">
                    <a href="Overview of Financial Systems.html#swaps">
                        Swaps
                    </a>
                </div>

                <div class="toc-item toc-subsection">
                    <a href="Overview of Financial Systems.html#options.sec">
                        Contingent Claims: Options
                    </a>
                </div>
</div></div>

        <div class="toc-chapter current">
            <a href="Price Dynamics.html" class="chapter-link">
                Chapter 2: Price Dynamics
            </a>
            <div class="toc-sections expanded">

                <div class="toc-item ">
                    <a href="Price Dynamics.html#price.dynamics.ch">
                        Price Dynamics
                    </a>
                </div>

                <div class="toc-item toc-section">
                    <a href="Price Dynamics.html#deterministic-interest-rate-models">
                        Deterministic Interest-rate Models
                    </a>
                </div>

                <div class="toc-item toc-subsection">
                    <a href="Price Dynamics.html#discrete-time-models">
                        Discrete Time Models
                    </a>
                </div>

                <div class="toc-item toc-subsection">
                    <a href="Price Dynamics.html#continuous-time-model">
                        Continuous Time Model
                    </a>
                </div>

                <div class="toc-item toc-subsection">
                    <a href="Price Dynamics.html#nonconstant.interest.rate.subs">
                        Non-constant Interest Rate
                    </a>
                </div>

                <div class="toc-item toc-subsection">
                    <a href="Price Dynamics.html#present.value.subs">
                        Present Value
                    </a>
                </div>

                <div class="toc-item toc-subsubsection">
                    <a href="Price Dynamics.html#cash-flow-stream">
                        Cash Flow Stream
                    </a>
                </div>
</div></div>
</div>
    </div>
    <div id="content">
        <p>
<h1 id="price.dynamics.ch">Price Dynamics</h1></p><p>In this chapter, we develop mathematical models to study the dynamics of asset prices over time. We begin with simple concepts of interests in discrete time capturing the time value of money. We then update the model to continuous time framework where an ordinary differential equation is obtained to describe the evolution of the deterministic price value under constant interest rate, ignoring the randomness.  Finally, we extend the framework to stochastic models, where uncertainty in price movements is incorporated through a Wiener process. We also list some of the commonly used stochastic differential equations for stock prices and interest rates, which form the foundation of modern quantitative finance.</p><p><h2 id="deterministic-interest-rate-models">Deterministic Interest-rate Models</h2></p><p>The interest, expressed as a percentage divided by 100, is referred to as the <b>interest rate</b>.</p><p>Typically, interest rates are calculated annually. In this section, we explore the theory of interest rates using a bank fixed deposit as an example of an investment tool. These concepts can be easily applied to other types of investment tools.</p><p>Let <span class="math">\(t\)</span> denote the time variable. We consider <span class="math">\(t=0\)</span> as the initial time of investment, and the investment period spans the interval <span class="math">\([0, T]\)</span>, where <span class="math">\(T > 0\)</span> denotes the <b>maturity time</b>. The interest is paid at a certain <b>frequency</b>, representing the number of times interest is paid per annum. For example, if the interest is paid quarterly, the frequency is 4.</p><p>If the frequency of interest payments is denoted by <span class="math">\(m\)</span>, with <span class="math">\(n=mT\)</span> being an integer, then the times at which interest payments are due are given by
</p><div class="math">\[
t_k = \frac{k}{m},\quad k=1,2,\ldots,n.
\]</div><p>
Let <span class="math">\(r\)</span> denote the interest rate per annum (or annual interest rate), expressed as a decimal (<i>i.e.</i>, <span class="math">\(r \times 100%\)</span>). In this case, each interest payment is calculated at the rate <span class="math">\(r/m\)</span>, which is referred to as the <b>per period</b> rate.</p><p><div class="note">
<div class="heading-container">
<b class="heading">Note:</b>
</div>
Note that the phrase `per period' refers to each payment period <span class="math">\([t_{k-1}, t_k]\)</span>, for <span class="math">\(k=1,2,\ldots,n,\)</span> whereas <span class="math">\([0,T]\)</span> refers to the entire investment period. Observe that the per period rate <span class="math">\(r/m\)</span> can be expressed as <span class="math">\(rT/n\)</span>.
</div></p><p><h3 id="discrete-time-models">Discrete Time Models</h3></p><p>Let the principal be denoted by <span class="math">\(P(0)\)</span> and the interest rate be <span class="math">\(r\)</span> per annum.  Let the payout frequency be <span class="math">\(m\)</span> and the maturity time be <span class="math">\(T\)</span>, with <span class="math">\(n=mT\)</span> being an integer.  Let us derive the formula for <b>compound interest</b>.</p><p>At time <span class="math">\(t=t_1\)</span>, the accumulated amount is 
</p><div class="math">\[
P(t_1) = P(0) \left(1+ \frac{r}{m}\right),
\]</div><p>
which is considered as the principal for the period <span class="math">\((t_1,t_2].\)</span></p><p>At time <span class="math">\(t=t_2\)</span>, we have
</p><div class="math">\[
P(t_2) = P(t_1) \left(1+ \frac{r}{m}\right) = P(0)\left(1+\frac{r}{m}\right)^2.
\]</div><p>
Continuing in this way, we see that 
</p><div class="math">\[
P(t_k) = P(0)\left(1+\frac{r}{m}\right)^k, \quad k=1,2,\ldots, n.
\]</div><p>
In particular, at the maturity <span class="math">\(T\)</span>, the net amount obtained by the creditor (equivalently, the net amount paid by the debtor) is given by
</p><div class="math" id="CI.FR">\begin{eqnarray}
P(T) = P(0)\left(1+\frac{r}{m}\right)^{n},
\end{eqnarray}<div style="text-align:right;">(2.1)</div></div><p>
which is the <b>nominal value</b> or the <b>future value</b> of the investment with compound interest. The factor <span class="math">\(\left(1+\frac{r}{m}\right)^{n}\)</span> is called the <b>growth factor</b> for compound interest. </p><p><div class="note">
<div class="heading-container">
<b class="heading">Note:</b>
</div>
<li>The growth factor for compound interest can also be written as <span class="math">\(\left(1+\frac{rT}{n}\right)^{n}\)</span>.
</li><li>When <span class="math">\(n=1\)</span>, we call the scheme a <b>simple interest</b> scheme.
</div></p><p>Observe that the compound interest scheme is significantly influenced by the payout frequency <span class="math">\(m\)</span>. As the frequency increases, the maturity amount in the compound interest scheme also increases.</p><p><div class="example" id="CI.EX1">
<div class="heading-container">
<b class="heading">Example:</b>
</div>
</p><p>Mr. Megh invests ₹ 100 in a bank fixed deposit scheme at the rate of 10% per annum and for two and a half years. Assume that the bank pays out the interest every quarter. Then, the interest is paid 10 times to Mr. Megh with the interest payout frequency 4. Hence, we have <span class="math">\(m=4,\)</span> whereas <span class="math">\(T=2.5,\)</span> <span class="math">\(P(0)=100,\)</span> and <span class="math">\(r=0.1\)</span>.</p><p>Using the compound interest formula, we can determine the accumulated amount at maturity (the nominal value), given by
</p><div class="math">\[
P(T) = 100\times\left(1+\frac{0.1}{4}\right)^{4\times 2.5} \approx 128.
\]</div><p>Let us now increase the payout frequency from every quarter to every month, then we have <span class="math">\(m=12\)</span> (instead of <span class="math">\(m=4\)</span>) and the nominal value of the investment becomes
</p><div class="math">\[
P(T) = 100\times\left(1+\frac{0.1}{12}\right)^{12\times 2.5} 
\approx 128.27.
\]</div><p>
Hence the total interest obtained is ₹ 28.27, which is higher than the interest obtained with the quarterly compounding scheme.
</div></p><p><div class="remark">
<div class="heading-container">
<b class="heading">Remark:</b>
</div>
In the above example, we observe that, despite the interest rate being <span class="math">\(r=0.1\)</span>, (<i> i.e.</i> 10%) per annum for two and a half years with quarterly compounding, the final interest obtained is ₹ 28. This amount is obviously more than 10% per annum with simple interest calculation.  Thus, the nominal interest rate alone is not a clear indicator of the compounding effect. An equivalent way to express the amount of interest obtained is through the <b>effective annual rate</b> (EAR) (or <b>effective interest rate</b>), defined as the annual interest rate <span class="math">\(r_e\)</span> such that</p><div class="math">\[
P(0)\left(1 + r_e\right)^T = P(0)\left(1+\frac{r}{m}\right)^{n}.
\]</div><p>
Since <span class="math">\(n=mT\)</span>, the above expression can be rewritten as</p><div class="math">\[
r_e = \left(1+\frac{r}{m}\right)^{m} - 1.
\]</div><p>
Using this formula, we can find the EAR in the above example as <span class="math">\(r_e \approx 0.1038\)</span> (or 10.38%).</p><p>The basic annual interest rate (<span class="math">\(r=0.1\)</span> in the above example) is termed the <b>nominal annual rate</b> (NAR) or simply the <b>interest rate</b> per annum or <b>nominal interest rate</b>.
</div></p><p><div class="problem">
<div class="heading-container">
<b class="heading">Problem:</b>
</div>
Find the EAR for the following schemes:
<ol class="latex-enumerate">
</li><li>3% compounded monthly for one year.
</li><li>18% compounded quarterly for one year.
</li></ol>
<div style="text-align:right;"><b> Answer:</b> 1. 3.04%. 2. 19.25%. </div>
</div></p><p><h3 id="continuous-time-model">Continuous Time Model</h3></p><p>The compound interest discussed above assumes discrete payout times with a finite payout frequency <span class="math">\(m\)</span>. However, in theoretical contexts, it is often necessary to model compounding in a continuous time framework, which can be achieved by taking <span class="math">\(m\rightarrow \infty\)</span>. This is equivalent to taking <span class="math">\(n\rightarrow \infty\)</span> in <a href="#CI.FR">(2.1)</a> and leads to
</p><div class="math" id="CCI.FR">\begin{eqnarray}
P(T) = P(0) e^{rT},
\end{eqnarray}<div style="text-align:right;">(2.2)</div></div><p>
the nominal value (or the future value) of the investment under <b>continuous compound interest</b>.   </p><p><div class="example">
<div class="heading-container">
<b class="heading">Example:</b>
</div>
The nominal value of the fixed deposit offer given in  <a href="PriceDynamics.html#CI.EX1">Example &laquo;Click Here&raquo; </a> using the continuous compound interest scheme is expressed as
</p><div class="math">\[
P(T) = 100\times e^{(0.1\times 2.5)} \approx 128.4.
\]</div><p>
</div></p><p><div class="note">
<div class="heading-container">
<b class="heading">Note:</b>
</div>
To emphasize the distinction between continuous compounding and compounding with a finite frequency, the latter is often referred to as <b>discrete compound interest</b>. In our discussions, `compound interest' always refers to discrete compound interest.
</div></p><p><div class="remark">
<div class="heading-container">
<b class="heading">Remark:</b>
</div>
Observe that the growth in simple interest, compound interest, and continuous compound  interest schemes is, respectively, the linear growth given by <span class="math">\(P(0)(1+rT)\)</span>, the geometric growth given by <span class="math">\(P(0)(1+r/m)^{mT}\)</span> and the exponential growth given by <span class="math">\(P(0)e^{rT}\)</span>. </p><p>The factors
</p><div class="math">\[
A_s = (1+rT),\quad A_c = \left(1+\frac{r}{m}\right)^{mT}, ~\text{and}\quad A_{cc} = e^{rT}
\]</div><p>
are referred to as the <b>accumulation factor</b> for simple interest, compound interest, and continuous compound interest, respectively. The following figure illustrates the behavior of these three accumulation factors over time.
</div></p><p><div class="figure">

<img src="Figures/AccumulationFactor.png" class="standalone-figure">
<div style="text-align: center; font-weight: bold;">An illustration of accumulation factors</div>

</div></p><p><div class="problem">
<div class="heading-container">
<b class="heading">Problem:</b>
</div>
Mr. Megh requires  ₹ 10,000 exactly one year from today. He borrowed  ₹ 10,00,000 from a friend with a commitment to repay the amount along with 4% continuously compounded interest after this one-year period. Now, he is exploring an opportunity to lend the borrowed money for one year in a simple interest scheme with an interest rate <span class="math">\(r\)</span> to meet his financial need. Determine the approximate minimum value of <span class="math">\(r\)</span>.</p><p><span class="math">\(~\)</span><div style="text-align:right;"><b> Answer:</b> <span class="math">\(r \approx 0.05081077\)</span>. </div>
</div></p><p>Often practitioners prefer continuous compounding interest rate in their models rather than discrete compounding interest rate. This may be because different markets often have different day count conventions. The following problem provides formulae to convert one interest rate to the other.</p><p><div class="problem">
<div class="heading-container">
<b class="heading">Problem:</b>
</div>
Let <span class="math">\(r_d\)</span> and <span class="math">\(r_c\)</span> denote the discrete and continuous compound interest rates, respectively.  If <span class="math">\(m\)</span> is the payout frequency for the discrete compounding scheme and if the nominal value in both the schemes are equal at any maturity time, then show that
</p><div class="math">\[
r_c = m \ln\left(1+\frac{r_d}{m}\right)
\quad \text{and}\quad
r_d = m\left(e^{\frac{r_c}{m}} - 1\right).
\]</div><p>
</div></p><p><h3 id="nonconstant.interest.rate.subs">Non-constant Interest Rate</h3></p><p>We have derived the formula for continuous compounding in the case of a constant interest rate. However, a more realistic situation involves considering an interest rate that changes continuously over time. Hence, we need a model to calculate <span class="math">\(P(t)\)</span> for all <span class="math">\(t \in [0,T]\)</span>, where <span class="math">\(r=r(t)\)</span> represents the time-dependent interest rate.</p><p>We now derive an ODE that models the continuous compounding scheme with interest rate <span class="math">\(r=r(t)\)</span> per annum at any given time <span class="math">\(t\in [0,T]\)</span>.  </p><p>For a given number <span class="math">\(\Delta t>0\)</span>, the net interest obtain for the period <span class="math">\([t,t+\Delta t]\)</span> is given by <span class="math">\(P(t+\Delta t) - P(t)\)</span>, for any <span class="math">\(t\in [0,T-\Delta t]\)</span>.  Assume that <span class="math">\(\Delta t\)</span> is very small so that the compound interest during the period <span class="math">\([t,t+\Delta t]\)</span> is approximately the same as the simple interest.  In other words, we take
</p><div class="math" id="Interest.per.period.eq">\begin{eqnarray}
P(t+\Delta t) - P(t) \approx r(t)\Delta t P(t).
\end{eqnarray}<div style="text-align:right;">(2.3)</div></div><p>
Dividing both sides by <span class="math">\(\Delta t\)</span> and then letting <span class="math">\(\Delta t\rightarrow 0\)</span>, we get
</p><div class="math">\[
\lim_{\Delta t\rightarrow 0}\frac{P(t+\Delta t) - P(t) }{\Delta t} =  r(t)P(t).
\]</div><p>
This leads to the required model, which is an ordinary differential equation (ODE) given by
</p><div class="math" id="ODE.CComp.eq">\begin{eqnarray}
\frac{dP}{dt} = rP.
\end{eqnarray}<div style="text-align:right;">(2.4)</div></div><p>
If we assume the interest rate <span class="math">\(r\)</span> to be a constant, then the solution of <a href="#ODE.CComp.eq">(2.4)</a> at <span class="math">\(t=T\)</span>, with the initial condition as the principal <span class="math">\(P(0)\)</span>, is given by <a href="#CCI.FR">(2.2)</a>. </p><p><div class="note">
<div class="heading-container">
<b class="heading">Note:</b>
</div>
By substituting <a href="#ODE.CComp.eq">(2.4)</a> into <a href="#Interest.per.period.eq">(2.3)</a>, we observe that <a href="#Interest.per.period.eq">(2.3)</a> is (approximately) the mean value theorem for <span class="math">\(P\)</span>.
</div></p><p>Integrating <a href="#ODE.CComp.eq">(2.4)</a> over <span class="math">\([0,t]\)</span>, we can derive our required model as the integral equation
</p><div class="math" id="IE.CComp.eq">\begin{eqnarray}
P(t) = P(0) + \int\limits_{0}^t r(s)P(s) ds.
\end{eqnarray}<div style="text-align:right;">(2.5)</div></div><p>
Using the fundamental theorem of calculus, we can see that if <span class="math">\(r\)</span> and <span class="math">\(P\)</span> are continuous, then <a href="#ODE.CComp.eq">(2.4)</a> and <a href="#IE.CComp.eq">(2.5)</a> are equivalent. </p><p><div class="note">
<div class="heading-container">
<b class="heading">Note:</b>
</div>
The advantage of the model <a href="#IE.CComp.eq">(2.5)</a> over <a href="#ODE.CComp.eq">(2.4)</a> is that <a href="#IE.CComp.eq">(2.5)</a> makes sense as long as <span class="math">\(r\)</span> and <span class="math">\(P\)</span> are integrable, whereas <a href="#ODE.CComp.eq">(2.4)</a> requires both <span class="math">\(r\)</span> and <span class="math">\(P\)</span> to be continuous. Often, we come across a situation where <span class="math">\(r\)</span> is not continuous and hence <a href="#IE.CComp.eq">(2.5)</a> is preferred in financial applications.
</div></p><p><div class="problem" id="linearODE.particular.solution.pr">
<div class="heading-container">
<b class="heading">Problem:</b>
</div>

Show, using the separation of variables method, that the particular solution of the ODE <a href="#ODE.CComp.eq">(2.4)</a> at some time <span class="math">\(T>0\)</span> is 
</p><div class="math">\[
P(T) = P(0)e^{\int\limits_0^T r(t) dt},
\]</div><p>
where the principle value <span class="math">\(P(0)\)</span> is given.
</div></p><p>Another important random phenomenon in finance is the <b>mean-reverting</b> process.  Many natural and economic systems exhibit a mean-reverting tendency of a state variable (for instance, an interest rate), which can be described as follows:</p><p><i>Whenever the state variable deviates significantly from its long-term equilibrium (mean) level, forces arise that drive it back toward that mean. </i></p><p><div class="problem" id="deterministic.meanreverting.model.pr">
<div class="heading-container">
<b class="heading">Problem:</b>
</div>
[<b>Deterministic Mean-Reverting Model</b>]
</p><p>Show that the solution of the ODE
</p><div class="math">\[
dr_t = \lambda(\mu - r_t)dt.
\]</div><p>
is
</p><div class="math">\[
r_t = \mu + (r_0-\mu)e^{-\lambda t}.
\]</div><p> 
By taking <span class="math">\(r(t)=r_t\)</span>, obtain the particular solution of the ODE <a href="#ODE.CComp.eq">(2.4)</a> at some time <span class="math">\(T>0\)</span>.
</div></p><p>The following problem shows the deterministic part of such dynamics and highlights the role of the stochastic part of mean-reverting models, which will be introduced at a later part of this chapter.</p><p><h3 id="present.value.subs">Present Value</h3></p><p>So far, we have established models to calculate the nominal value <span class="math">\(P(T)\)</span> of a deposit, given the principal <span class="math">\(P(0)\)</span>, interest rate <span class="math">\(r\)</span>, and the frequency <span class="math">\(m\)</span> of the interest payment per year. Here <span class="math">\(P(T)\)</span> can be regarded as the <b>future value</b> of the principal <span class="math">\(P(0)\)</span> with respect to the given interest rate <span class="math">\(r\)</span> and the frequency <span class="math">\(m\)</span>.</p><p>The concept of <b>present value</b> is the inverse of future value, where <span class="math">\(P(T)\)</span> is given, and we are required to find <span class="math">\(P(0)\)</span> for the given values of <span class="math">\(r\)</span> and <span class="math">\(m\)</span>.</p><p>The present value with simple interest is given by
</p><div class="math">\[
P(0)  = \frac{P(T)}{1+rT}.
\]</div><p>
In the case of a compound interest scheme, the present value is given by
</p><div class="math">\[
P(0) = P(T)\left(1+\frac{r}{m}\right)^{-n} = P(T)\left(1+\frac{rT}{n}\right)^{-n},
\]</div><p>
where <span class="math">\(m\)</span> denotes the frequency (the number of times interest is accumulated per annum) and <span class="math">\(n=mT\)</span> is the total number of times interest is accumulated during the entire investment period.</p><p>Finally, for a continuous compounding scheme, the present value is given by
</p><div class="math">\[
P(0) = P(T) e^{-rT}.
\]</div><p>
The procedure of finding the present value for a future amount is referred to as <b>discounting</b>. Correspondingly, the present value is often referred to as <b>discount value</b>.  The factor by which the present value <span class="math">\(P(0)\)</span> is discounted from the future value <span class="math">\(P(T)\)</span> is called the <b>discount factor</b>. The discount factor for simple interest, compound interest, and continuous compound interest are, respectively,
</p><div class="math" id="DF.formula">\begin{eqnarray}
D_s = \frac{1}{1+rT},~~
D_c = \left(1+\frac{r}{m}\right)^{-mT}, \text{ and }
D_{cc} = e^{-rT}.
\end{eqnarray}<div style="text-align:right;">(2.6)</div></div><p><div class="note">
<div class="heading-container">
<b class="heading">Note:</b>
</div>
The concept of discounting plays an important role in pricing options because it provides a measure of the risk-free future value of money.
</div></p><p><h4 id="cash-flow-stream">Cash Flow Stream</h4></p><p>The concepts of present and future values can be extended to a sequence of cash flows occurring at multiple times.  Let us first introduce the concept of a cash flow stream. </p><p><div class="definition">
<div class="heading-container">
<b class="heading">Definition:</b>
</div>
[<b>Cash Flow Stream</b>]</p><p>For a given time partition <span class="math">\(\{t_0,t_1,\ldots,t_n\}\)</span> of the period <span class="math">\([0,T]\)</span> with <span class="math">\(0=t_0 < t_1 <t_2 < \cdots < t_n=T\)</span>, the \textbfNI{cash flow stream} is represented by the <span class="math">\((n+1)\)</span>-tuple <span class="math">\(\boldsymbol{x} = (x_0,x_1,\ldots,x_n)\)</span>, where <span class="math">\(x_k\)</span>, for <span class="math">\(k=0,1,\ldots,n\)</span>, denotes the value of money transacted at time <span class="math">\(t=t_k\)</span>. </p><p>Whenever the time partition is important, we may also represent a cash flow stream as (<span class="math">\(\boldsymbol{x},\boldsymbol{t}\)</span>), where <span class="math">\(\boldsymbol{t} = (t_0,t_1,\ldots,t_n)\)</span>.
</div></p><p><div class="note">
<div class="heading-container">
<b class="heading">Note:</b>
</div>
Generally, we set <span class="math">\(t_0=0\)</span> as the initial investment time and <span class="math">\(t_n = T\)</span> as the maturity time. A positive <span class="math">\(x_k>0\)</span> indicates an inflow of money, while a negative <span class="math">\(x_k<0\)</span> represents an outflow.  If an entity holds the cash flow stream <span class="math">\(\boldsymbol{x}\)</span>, then the opposing party holds the cash flow stream <span class="math">\(-\boldsymbol{x}\)</span>, representing the exact opposite transactions.
</div></p><p><div class="example">
<div class="heading-container">
<b class="heading">Example:</b>
</div>
Suppose Mr. Poor borrowed ₹ 1200  from his friend, Mr. Rich, and promised to pay ₹ 300 every quarter.  If no interest charged, then the cash flow stream for Mr. Poor is
<span class="math">\((1200, -300, -300, -300, -300),\)</span>
whereas the cash flow stream for Mr. Rich is given by
<span class="math">\((-1200, 300, 300, 300, 300).\)</span>
If we denote the cash flow stream of Mr. Poor as <span class="math">\(\boldsymbol{x}\)</span> and that of Mr. Rich as <span class="math">\(\boldsymbol{y}\)</span>, then we see that <span class="math">\(\boldsymbol{x} = -\boldsymbol{y}\)</span>.
</div></p><p><div class="problem">
<div class="heading-container">
<b class="heading">Problem:</b>
</div>
Consider the cash flow stream <span class="math">\((-100,3,3,3,103)\)</span> into a bank, where transactions occur annually. Determine whether this represents a deposit received or a loan given by the bank. Additionally, find the annual rate of interest and identify the type of interest scheme (<i> i.e.</i>, whether it is simple interest or compound interest).
</div></p><p>The <b>future value</b> of a cash flow stream <span class="math">\(\boldsymbol{x} = (x_0,x_1,\ldots,x_n)\)</span> at the rate of <span class="math">\(r\)</span> (per annum) during the time period <span class="math">\([0,T]\)</span> with equally spaced time partition <span class="math">\(\{t_0,t_1,\ldots, t_n\}\)</span> (with <span class="math">\(t_0=0\)</span> and <span class="math">\(t_n=T\)</span>) is given by
</p><div class="math" id="FVStream.eq">\begin{eqnarray}
\text{FV}(\boldsymbol{x}) = 
\left\{\begin{array}{ll}
	\displaystyle{\sum_{k=0}^n} x_k\big(1+r(T-t_k)\big),&amp;\text{ for simple interest},\\
	\displaystyle{\sum_{k=0}^n} x_k\left(1+\frac{rT}{n}\right)^{n-k},&amp;\text{ for compound interest,}\\
	 \displaystyle{\sum_{k=0}^n} x_k e^{r(T-t_k)},&amp;\text{for continuous compound interest.}
\end{array}\right.
\end{eqnarray}<div style="text-align:right;">(2.7)</div></div><p><div class="note">
<div class="heading-container">
<b class="heading">Note:</b>
</div>
If <span class="math">\(m\)</span> is the interest payout frequency per annum, then <span class="math">\(n=mT\)</span>.  Thus the FV formula for compound interest is obtained by substituting <span class="math">\(m=n/T\)</span> in <a href="#FVStream.eq">(2.7)</a>.
</div></p><p><div class="remark">
<div class="heading-container">
<b class="heading">Remark:</b>
</div>
Define
</p><div class="math">\[
\tilde{r} = \frac{rT}{n}.
\]</div><p>
We can see that <span class="math">\(\tilde{r}\)</span> represents the interest rate <b>per period</b>. Using <span class="math">\(\tilde{r}\)</span> in the discrete  compound interest formula, we get
</p><div class="math">\[
\text{FV}(\boldsymbol{x}) = \sum_{k=0}^m x_k\left(1+\tilde{r}\right)^{n-k}.
\]</div><p>
</div></p><p><div class="note">
<div class="heading-container">
<b class="heading">Note:</b>
</div>
Depending on the given information about the interest rate (<i> i.e.</i>, whether it is the annual interest rate or interest rate per period), one has to choose the corresponding formula carefully.
</div></p><p><div class="problem">
<div class="heading-container">
<b class="heading">Problem:</b>
</div>
A depositor opted for a <i> recurring deposit</i> scheme in a bank, where she pays ₹ 1000 on the first day of every month, and for one year. Obtain the future value of the recurring deposit if the bank offers 6% annual interest with monthly compounding. Write the cash flow stream for the bank till the end of the scheme.</p><p><b> Answer:</b> <span class="math">\(\boldsymbol{x}=(1000,1000,\ldots,1000, -12397.24)\)</span>
</div></p><p><div class="note">
<div class="heading-container">
<b class="heading">Note:</b>
</div>
One can easily obtain the formula for future value if the interest rate per period varies from period to period.
</div></p><p>We now discuss the present value of a cash flow stream. Consider a cash flow stream <span class="math">\(\boldsymbol{x} = (x_0,x_1,\ldots,x_n)\)</span>.  The <b>present value</b> of the cash flow stream <span class="math">\(\boldsymbol{x}\)</span>  at the interest rate of <span class="math">\(r\)</span> per annum and for the  time period <span class="math">\([0,T]\)</span>  with equally spaced time partition <span class="math">\(\{t_0,t_1,\ldots, t_n\}\)</span> (with <span class="math">\(t_0=0\)</span> and <span class="math">\(t_n=T\)</span>) is given by
</p><div class="math">\[
\text{PV}(\boldsymbol{x}) = \sum_{k=0}^n x_k D_k,
\]</div><p>
where <span class="math">\(D_k\)</span> denotes the discount factor at time <span class="math">\(t_k\)</span> given by one of the formulae in <a href="#DF.formula">(2.6)</a> (with <span class="math">\(n=mT\)</span>) depending on the type of the interest scheme. More precisely, we have</p><div class="math" id="PV.Stream.Formula">\begin{eqnarray}
\text{PV}(\boldsymbol{x}) = 
\left\{\begin{array}{ll}
	 \displaystyle{\sum_{k=0}^n} \frac{x_k}{1+rt_k},&amp;\text{for simple interest},\\
	 \displaystyle{\sum_{k=0}^n} \frac{x_k}{\left(1+\dfrac{rT}{n}\right)^k},&amp;\text{for compound interest},\\
	 \displaystyle{\sum_{k=0}^n} x_ke^{-rt_k},&amp;\text{for continuous compound interest.}
\end{array}\right.
\end{eqnarray}<div style="text-align:right;">(2.8)</div></div><p><div class="note">
<div class="heading-container">
<b class="heading">Note:</b>
</div>
We always assume that, for a given cash flow stream <span class="math">\(\boldsymbol{x}=(x_0,x_1,\ldots, x_n)\)</span>, the number of times interest is paid or accumulated is <span class="math">\(n\)</span>. Unless otherwise stated, we assume a compound interest scheme where the interest due times coincide with the cash flow transaction times. Also, unless otherwise specified, we assume that in each period, interest is first accumulated, and then the transaction occurs.
</div></p><p><div class="problem">
<div class="heading-container">
<b class="heading">Problem:</b>
</div>
Determine the fair price of an annual cash flow stream <span class="math">\((0,50,50,50)\)</span> for three years, given a prevailing compounding annual interest rate of <span class="math">\(r=0.08.\)</span></p><p><span class="math">\(~\)</span><div style="text-align:right;"><b> Answer:</b> 128.8548 </div>
</div></p><p><div class="note">
<div class="heading-container">
<b class="heading">Note:</b>
</div>
When the initial payment in a cash flow stream is zero (like the one given in the above problem), then we call the present value as the fair price of the cash flow stream.  Whereas, if the initial payment is non-zero, then we refer the present value as the <b>net present value</b> (NPV).
</div></p><p><div class="problem">
<div class="heading-container">
<b class="heading">Problem:</b>
</div>
Find the net present value of the cash flow stream <span class="math">\(\boldsymbol{x} = (-10, 2, 3, 5, 2)\)</span> if the prevailing per period interest rate is <span class="math">\(r=0.02\)</span>.<div style="text-align:right;"><b> Answer:</b> 1.4036 </div>
</div></p><p>One can use present value to compare investments and prefer the one that yields higher value.</p><p><div class="example">
<div class="heading-container">
<b class="heading">Example:</b>
</div>
Consider a project where an initial amount of ₹ 5000 is invested in buying  young goats that grow into marketable size within a year. After one year, the goats can either be sold for ₹ 7200 or left to grow further for an additional year, yielding better quality meat and higher demand, which can then be sold for ₹ 7600.</p><p>The corresponding cash flow streams are
</p><div class="math">\[
\boldsymbol{x_1} = (-5000,7200),~~\boldsymbol{x_2} = (-5000,0,7600).
\]</div><p>
If the prevailing interest rate is 6% per annum compounded annually, then which of the two cash flow streams is preferable?</p><p>To answer this question, let's calculate the net present value (NPV) for both streams. We have
</p><div class="math">\[
\text{NPV}(\boldsymbol{x_1}) = -5000 + \frac{7200}{1+0.06} \approx 1792.45,~~
\text{NPV}(\boldsymbol{x_2}) = -5000 + \frac{7600}{(1+0.06)^2} \approx 1763.97.
\]</div><p>
Therefore, based on the NPV criterion, it is more profitable to sell the goats at the end of the first year.
</div></p><p><div class="problem">
<div class="heading-container">
<b class="heading">Problem:</b>
</div>
Consider two annual cash flows</p><div class="math">\[
\boldsymbol{x}_1 = (-13000, 5000, 6000, 7000) ~\text{ and }~
\boldsymbol{x}_2 = (-13000, 7000, 4800, 6000).
\]</div><p>
Answer the following questions with annual compound interest rates:
<ol class="latex-enumerate"> 
<li>If <span class="math">\(r = 4.5%\)</span>, which cash flow is more profitable? 
</li><li>If <span class="math">\(r = 9%\)</span>, which cash flow is more profitable? 
</li></ol>
</div></p><p><div class="remark">
<div class="heading-container">
<b class="heading">Remark:</b>
</div>
[<b>Uncountable Cash Flow Stream</b>]</p><p>Often it is useful to consider an uncountable cash flow stream defined by a function <span class="math">\(f(t)\)</span>.  
The future value of such a cash flow stream under a constant interest rate <span class="math">\(r\)</span> is given by
</p><div class="math">\[
\text{FV}(f) = \int\limits_0^T f(t)e^{r(T-t)}dt
\]</div><p>
and the present value is given by
</p><div class="math">\[
\text{PV}({f}) =  \int\limits_0^T f(t)e^{-rt}dt.
\]</div><p>
The following example illustrates a potential application of a continuous cash flow stream and its present value.
</div></p>
    </div>
    
    <script>
    document.addEventListener("contextmenu", function(e) { e.preventDefault(); });
    document.addEventListener("keydown", function(e) {
        if ((e.ctrlKey || e.metaKey) && (e.key === "p" || e.key === "s")) {
            e.preventDefault();
        }
    });
    </script>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const tocButton = document.getElementById('toc-button');
            const tocPanel = document.getElementById('toc-panel');
            const closeToc = document.getElementById('close-toc');

            if (localStorage.getItem('tocOpen') === 'true') {
                tocPanel.classList.add('open');
                localStorage.removeItem('tocOpen');
            }

            tocButton.addEventListener('click', function(e) {
                e.stopPropagation();
                tocPanel.classList.toggle('open');
            });

            function closeTocPanel() {
                tocPanel.classList.remove('open');
            }

            closeToc.addEventListener('click', function(e) {
                e.stopPropagation();
                closeTocPanel();
            });

            document.addEventListener('click', function(e) {
                if (!tocPanel.contains(e.target) && e.target !== tocButton) {
                    closeTocPanel();
                }
            });

            tocPanel.addEventListener('click', function(e) {
                e.stopPropagation();
            });

            document.querySelectorAll('#toc-panel a').forEach(link => {
                link.addEventListener('click', function(e) {
                    if (!this.getAttribute('href').startsWith('#')) {
                        localStorage.setItem('tocOpen', 'true');
                    }
                    if (this.hash) {
                        e.preventDefault();
                        const target = document.getElementById(this.hash.substring(1));
                        if (target) {
                            window.scrollTo({
                                top: target.offsetTop - 70,
                                behavior: 'smooth'
                            });
                            history.pushState(null, null, this.hash);
                            if (window.innerWidth < 768) {
                                closeTocPanel();
                            }
                        }
                    }
                });
            });

            if (window.location.hash) {
                const target = document.getElementById(window.location.hash.substring(1));
                if (target) {
                    setTimeout(() => {
                        window.scrollTo({
                            top: target.offsetTop - 70,
                            behavior: 'smooth'
                        });
                    }, 100);
                }
            }
        });
    </script>
</body>
</html>
